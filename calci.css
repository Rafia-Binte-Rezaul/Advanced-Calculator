/* -------- THEME -------- */
:root{
  --case:#8d5780;
  --case-hi:#a86e9a;
  --case-lo:#6f3f64;
  --rim:#5a3450;
  --cast: rgba(0,0,0,.45);

  --screen:#a5b2b5;
  --screen-dark:#6f8084;
  --screen-glow:#cfe5ea;

  --key:#ffffff;
  --key-edge:#cfd6de;
  --key-top:#f7fafc;

  --txt:#1d2730;

  --accent-green:#33cc33;
  --accent-pink:#ff3399;
  --accent-blue:#6374e2;
}

/* -------- BASE -------- */
*{ box-sizing:border-box }
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#e9d2aa;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color:var(--txt);
}

/* -------- CASE / RIM -------- */
.container{
  width:min(70vw, 620px);            /* slimmer body */
  padding:22px 22px 26px;
  border-radius:32px;
  background: linear-gradient(180deg, var(--case-hi), var(--case));
  box-shadow:
    0 22px 40px var(--cast),         /* long drop */
    inset 0 3px 0 rgba(255,255,255,.35), /* top sheen */
    inset 0 -4px 10px rgba(0,0,0,.25);
  position:relative;
}

/* decorative rim inside */
.container::before{
  content:"";
  position:absolute; inset:14px;
  border-radius:24px;
  box-shadow: inset 0 0 0 10px var(--rim), inset 0 10px 26px rgba(0,0,0,.45);
  pointer-events:none;
}

/* -------- TOP BAR -------- */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:6px 8px 14px;
}

.brand{
  font-weight:700;
  letter-spacing:.12em;
  color:#f0e7f2;
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
  user-select:none;
}

/* realistic solar cells */
.solar{
  display:grid; grid-template-columns:repeat(4, 42px); gap:8px;
  padding:6px; border-radius:8px;
  background: linear-gradient(180deg,#3d1e1e,#231112);
  box-shadow: inset 0 2px 6px rgba(0,0,0,.6), 0 2px 4px rgba(0,0,0,.25);
}
.solar span{
  height:18px; border-radius:2px;
  background:
    repeating-linear-gradient(90deg, #2a0e0f 0 4px, #3f1d1f 4px 8px),
    linear-gradient(180deg,#5a2d2f,#2b1314);
  box-shadow: inset 0 1px 1px rgba(255,255,255,.15), inset 0 -1px 2px rgba(0,0,0,.5);
}

/* -------- DISPLAY -------- */
.display{ padding:0 10px 8px; }
#screen{
  width:100%;
  height:90px;
  font-variant-numeric: tabular-nums;
  font-size: clamp(26px, 4.2vw, 40px);
  text-align:right;
  padding:0 .8em;
  border:none; outline:none;
  color:#26383c;
  background: linear-gradient(180deg, var(--screen), var(--screen-dark));
  border-radius:14px;
  box-shadow:
    inset 0 10px 20px rgba(0,0,0,.35),
    inset 0 -4px 10px rgba(255,255,255,.25),
    0 2px 0 rgba(255,255,255,.18);
  position:relative;
}

/* glass glare */
#screen::placeholder{ color:#5a6c70; }
.display::after{
  content:"";
  position:absolute;
  top:52px; left:42px; right:42px; height:18px;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,.28), rgba(255,255,255,0));
  filter: blur(1px);
  pointer-events:none;
}

/* -------- KEYPAD GRID -------- */
.btns{
  margin-top:6px;
  display:grid;
  grid-template-columns: repeat(6, 1fr);
  gap:12px;
  padding:0 6px;
}

/* base keycap */
.key, .btns button{
  height: clamp(38px, 6.2vw, 48px);
  font-size: clamp(14px, 1.6vw, 18px);
  border:none; outline:none;
  border-radius:10px;
  background:
    linear-gradient(180deg, var(--key-top), var(--key));
  color:var(--txt);
  box-shadow:
    0 6px 10px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.8),
    inset 0 -2px 0 var(--key-edge);
  cursor:pointer;
  transition: transform .03s ease, box-shadow .12s ease, filter .12s ease;
}

/* hover / focus */
.key:hover{
  filter: brightness(1.02);
}
.key:active{
  transform: translateY(1px);
  box-shadow:
    0 3px 6px rgba(0,0,0,.25),
    inset 0 2px 6px rgba(0,0,0,.2);
}

/* categories */
.fn{ background: linear-gradient(180deg,#fdfefe,#f4f7fb); }
.op{ background: linear-gradient(180deg,#f9fbfd,#eef3f8); }
.num{ background: linear-gradient(180deg,#ffffff,#f4f8fb); }

.equals{
  background: linear-gradient(180deg, #7f8df0, var(--accent-blue));
  color:#fff;
  box-shadow:
    0 6px 10px rgba(49,64,180,.5),
    inset 0 1px 0 rgba(255,255,255,.45),
    inset 0 -2px 0 rgba(28,38,120,.55);
}
.equals:hover{ filter: brightness(1.02); }

#ac{
  background: linear-gradient(180deg,#63df63, var(--accent-green));
  color:#fff;
  box-shadow:
    0 6px 10px rgba(22,86,22,.4),
    inset 0 1px 0 rgba(255,255,255,.4),
    inset 0 -2px 0 rgba(18,102,18,.5);
}
#ce{
  background: linear-gradient(180deg,#ff6fb9, var(--accent-pink));
  color:#fff;
  box-shadow:
    0 6px 10px rgba(160,20,90,.45),
    inset 0 1px 0 rgba(255,255,255,.5),
    inset 0 -2px 0 rgba(128,0,64,.5);
}

/* superscript for x^y */
.sup{ position:relative; bottom:.48em; right:.06em; font-size:.8em; }

/* -------- RESPONSIVE -------- */
@media (max-width: 700px){
  .container{ width:min(90vw, 560px); }
  .btns{ grid-template-columns: repeat(5, 1fr); }
}
@media (max-width: 520px){
  .container{ width:92vw; border-radius:26px; padding:18px; }
  .btns{ grid-template-columns: repeat(4, 1fr); gap:10px; }
}
@media (max-width: 380px){
  .btns{ grid-template-columns: repeat(3, 1fr); }
}
